# 初始化，检查参数
{
	require("Style", "scene")
	if arg.buttons == nil then
		arg.buttons = {"确定"}
	end
	if arg.message == nil then
		arg.message=""
	end
}

# 消息框
:SpriteCreate	sprite=MsgBoxBackground type=image image="UI/MessageBox650x400.png" margin=[184, 187] zOrder=1 size=[650, 400]
:SpriteCreate	sprite=MsgBoxMessage type=text text={arg.message} verticalLayout=center horizontalLayout=center margin=[189, 237] zOrder=1 size=[550, 250]

:SpriteCreate	sprite=ButtonGroup	type=group margin=[495, 187, 185, 187] zOrder=2
:BehaviourAdd	sprite=ButtonGroup behaviour=ButtonGroupLayout type=LayoutHorizontal

# 创建按钮
{
	for k,v in pairs(arg.buttons) do
		local button=scene.ButtonGroup.addSprite("Button" .. k, "group")
		applyStyle(button, Styles.Button)
		button.image="UI/Button250x70.png"
		button.size={250,70}
		button.text=v
	end
}

# 监听按钮
{
	for k,v in pairs(arg.buttons) do
		if scene.ButtonGroup["Button" .. k].isClicked then
			scene.close(v)
			return
		end
	end
	Script.jump("$")
}
